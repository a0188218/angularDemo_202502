<div class="bankground_color">
  <br>
  <div nz-row class="search_row">
    <th style="padding-left: 30px; font-size: 20px; color: #1890ff;">ğŸ“‚ å¯©æ ¸æ¡ˆä»¶æ¸…å–®ï¼ˆå…± {{ this.total }} ä»¶ï¼‰</th>
    <div class="search_row_header">
      <div nz-col>
        <div nz-row [nzGutter]="16">
          <!-- æ”¶ä»¶ç·¨è™Ÿ -->
          <div nz-col nzFlex="1">
            <span class="form-title">æ”¶ä»¶ç·¨è™Ÿ</span>
            <div class="form-group">
              <input matInput class="form-control" [(ngModel)]="receiptNo" name="receiptNo" placeholder="è¼¸å…¥æ”¶ä»¶ç·¨è™Ÿ">
            </div>
          </div>
          <!-- èº«åˆ†è­‰è™Ÿ -->
          <div nz-col nzFlex="1">
            <span class="form-title">èº«åˆ†è­‰è™Ÿ</span>
            <div class="form-group">
              <input matInput class="form-control" [(ngModel)]="idNumber" name="idNumber" placeholder="è¼¸å…¥èº«åˆ†è­‰è™Ÿ">
            </div>
          </div>
          <!-- å®¢æˆ¶ID -->
          <div nz-col nzFlex="1">
            <span class="form-title">å®¢æˆ¶ID</span>
            <div class="form-group">
              <input matInput class="form-control" [(ngModel)]="custId" name="custId" placeholder="è¼¸å…¥å®¢æˆ¶ID">
            </div>
          </div>
          <!-- ç”¢å“é¡åˆ¥ -->
          <div nz-col nzFlex="1">
            <span class="form-title">ç”¢å“é¡åˆ¥</span>
            <mat-select [(ngModel)]="prodName" name="prodName" class="mat-select" nzPlaceHolder="é¸æ“‡ç”¢å“é¡åˆ¥">
              <mat-option *ngFor="let code of productList" [value]="code.value">
                {{ code.value + " - " + code.viewValue }}
              </mat-option>
            </mat-select>
          </div>

          <!-- æŸ¥è©¢æŒ‰éˆ• -->
          <div nz-col nzSpan="2" style="margin-top:18px;">
            <button nz-button nzType="primary" nzSize="large" nzShape="round" (click)="select()">æŸ¥è©¢æ¡ˆä»¶</button>
          </div>
          <!-- æ¸…é™¤æŒ‰éˆ• -->
          <div nz-col nzSpan="2" style="margin-top:18px;">
            <button nz-button nzDanger nzSize="large" nzShape="round" (click)="clear()">æ¸…é™¤</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- è¡¨æ ¼å€åŸŸ -->
  <div class="content">
    <div #absBox class="abs-box">
      <div nz-col nzSpan="24">
        <div class="card_no_padding">
          <nz-table nzShowSizeChanger [nzData]="newData" [nzFrontPagination]="false" [nzSimple]="true"
            [nzTotal]="total" [nzPageSize]="pageSize" [nzPageIndex]="pageIndex" #middleTable nzSize="middle"
            [nzBordered]="true" [nzScroll]="{ x: '1600px', y:tableHeight}" (nzQueryParams)="onQueryParamsChange($event)">
            <thead>
              <tr>
                <th nzWidth="60px" nzLeft>No</th>
                <th nzWidth="120px" [nzSortFn]="true" (nzSortOrderChange)="sortChange($event, 'startTime')" nzLeft>é€²ä»¶æ—¥æœŸæ™‚é–“</th>
                <th nzWidth="160px" [nzSortFn]="false" (nzSortOrderChange)="sortChange($event, 'receiptNo')" nzLeft>æ”¶ä»¶ç·¨è™Ÿ</th>
                <th nzWidth="90px">é‡æŸ¥å®Œæˆ</th>
                <th>èº«åˆ†è­‰è™Ÿ</th>
                <th>å®¢æˆ¶ID</th>
                <th>å§“å</th>
                <th>å…¬å¸åç¨±</th>
                <th>ç”¢å“åç¨±</th>
                <th>ç”³è«‹é‡‘é¡</th>
                <th>å¯©æ ¸çµæœ</th>
                <th>é€šçŸ¥</th>
                <th nzWidth="140px" nzRight>æ¡ˆä»¶è¨»è¨˜</th>
                <th nzRight>å„²å­˜</th>
              </tr>
            </thead>

            <tbody>
              <tr *ngFor="let data of newData; let i = index">
                <td nzAlign="center" nzLeft>{{ i+1 }}</td>
                <td nzLeft>{{ data.startTime | date: 'yyyy-MM-dd HH:mm:ss' }}</td>
                <td nzLeft>{{ data.receiptNo }}</td>
                <td>{{ data.readyForReview }}</td>
                <td>{{ data.nationalId }}</td>
                <td>{{ data.custId }}</td>
                <td>{{ data.name }}</td>
                <td>{{ data.company }}</td>
                <td>{{ data.prodCode }}</td>
                <td>{{ data.applyAmount }}</td>
                <td>{{ data.reviewResult }}</td>
                <td style="text-align: center;">
                  <button nz-button nzSize='small' nzType="primary" (click)="openNotifyMsg(data.receiptNo)">é€šçŸ¥</button>
                </td>
                <td nzRight>
                  <input matInput class="form-control" [(ngModel)]="data.caseNote" placeholder="è«‹è¼¸å…¥è¨»è¨˜">
                </td>
                <td nzRight>
                  <button nz-button nzType="primary" nzSize='small' (click)="saveNote(data.receiptNo, data.caseNote)">å„²å­˜</button>
                </td>
              </tr>
            </tbody>
          </nz-table>
        </div>
      </div>
    </div>
  </div>
</div>
